var Reolin;(function(n){var t;(function(n){var t;(function(n){class t{constructor(n){this._tokenValues={};this._token=n}get IsExpired(){return!1}static Decode(n){var t=n.split(".")[1],i=t.replace("-","+").replace("_","/");return JSON.parse(window.atob(i))}get Token(){return this._token}GetKey(n){return this._tokenValues[n]}static Parse(n){var i,r,u;if(IsNullOrEmpty(n))throw Error("jwt can not be null");i=new t(n);r=t.Decode(n);for(u in r)i._tokenValues[u]=r[u];return i}static TryParse(n){if(IsNullOrEmpty(n))throw new Error("Jwt can not be null");try{return t.Parse(n)}catch(i){return console&&console.log(i.Message),null}}}n.JwtSecurityToken=t})(t=n.Client||(n.Client={}))})(t=n.Web||(n.Web={}))})(Reolin||(Reolin={})),function(n){var t;(function(n){var t;(function(n){class t{constructor(){this._retry=!1}get Retry(){return this._retry}set Retry(n){this._retry=n}}n.HttpErrorEventArgs=t;class i{headerCreating(n){n===null&&(n={});console.log("in http service")}Get(n,t,i,r=false,u){this.MakeRequest("GET",n,null,t,i,u,r)}Post(n,t,i,r,u=false,f){this.MakeRequest("POST",n,t,i,r,f,u)}MakeRequest(i,r,u,f,e,o,s=false){this.headerCreating(f);var h=this;console.log(s);$.ajax({method:i,async:s,url:r,crossDomain:!0,data:u,beforeSend:function(n){console.log(i);for(var t in f)console.log("adding "+t+" "+f[t]+" in XHR header"),n.setRequestHeader(t,f[t])},success:function(t,i,r){if(o!==null&&o.HandleResponse!==undefined){var u=new n.HttpResponse;u.ResponseBody=t;u.StatusCode=r.status;u.ResponseText=r.responseText;o.HandleResponse(u)}},error:function(s,c,l){var a,v;return o!==null&&o.HandleError!==undefined&&(a=new n.HttpResponse,a.StatusCode=s.status,a.ResponseBody=s.responseText,a.Error=l,o.HandleError(a)),v=new t,h.OnError(s,l,v),v.Retry===!0&&e>0?h.MakeRequest(i,r,u,f,--e,o):void 0}})}OnError(){}CreateFormData(n){var t=new FormData;for(var i in n)t.append(i,n[i]);return t}}n.HttpService=i;class r extends i{constructor(n,t){super();this._authenticationScheme="bearer ";this._headerKey="Authorization";this._manager=n;this._authenticaionFailed=t}headerCreating(n){if(n!==null){var t=this._manager.GetLocalJwt();if(t===null){this._authenticaionFailed();return}n[this._headerKey]=this._authenticationScheme+t.Token}}OnError(n,t,i){n.status===401&&this._manager.GetLocalJwt()!==null?(this._manager.ProvideJwtbyOldJwt(this._manager.GetLocalJwt()),i.Retry=!0):n.status===403&&(i.Retry=!1,this._authenticaionFailed())}}n.AuthenticatedHttpServiceProvider=r;class u{}n.HttpServiceHandler=u})(t=n.Client||(n.Client={}))})(t=n.Web||(n.Web={}))}(Reolin||(Reolin={})),function(n){var t;(function(n){var t;(function(n){class t{get Error(){return this._error}set Error(n){this._error=n}get StatusCode(){return this._statusCode}set StatusCode(n){this._statusCode=n}get ResponseHeaders(){return this._responseHeaders}set ResponseHeaders(n){this._responseHeaders=n}get ResponseBody(){return this._responseBody}set ResponseBody(n){this._responseBody=n}get ResponseText(){return this._text}set ResponseText(n){this._text=n}}n.HttpResponse=t})(t=n.Client||(n.Client={}))})(t=n.Web||(n.Web={}))}(Reolin||(Reolin={}));